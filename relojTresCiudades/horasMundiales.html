<!DOCTYPE html>
<html>

<head>
    <title>Horas Mundiales</title>
    <meta charset="utf-8">
</head>

<body onload="getTimeZones()">
    <fieldset>
        <legend>Elije una ciudad</legend>
        <label>
            <input type="radio" id="phili" name="zone" value="0" />
            Philadelphia
        </label>
        <br>
        <label>
            <input type="radio" id="madrid" name="zone" value="1" checked />
            Madrid
        </label>
        <br>
        <label>
            <input type="radio" id="sydney" name="zone" value="2" />
            Sydney
        </label>
    </fieldset>
    <p id="result"></p>
    <script>
        function getTimeZones() {
            zone = parseInt(document.querySelector('input[name="zone"]:checked').value);

            worker = new Worker("horasMundialesWorker.js");

            worker.onmessage = function (e) {
                actualTime = e.hours;

                if (zone == 0) {
                    actualTime -= 6;
                } else if (zone == 2) {
                    actualTime += 10;
                }

                if (actualTime > 24) {
                    actualTime -= 24;
                } else if (actualTime < 0) {
                    actualTime += 24;
                }

                document.getElementById("result").innerHTML = actualTime + ":" + e.minutes + ":" + e.seconds;

            };
        }
    </script>
</body>
</html>